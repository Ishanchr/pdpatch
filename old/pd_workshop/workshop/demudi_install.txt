	***AGNULA/DeMuDi/Debian + Pure Data Install Notes***

	This text was written during a Pure Data workshop at the Waygood
	Gallery in Newcastle, UK, Dec 2004 by Derek Holzer with assistance from
	Aymeric Mansoux and Dominic Smith. Thanks also to Sneha Solanki for
	her hard work setting the whole gig up!

	It reflects our experience setting up AGNULA/DeMuDi for several
	workstations and laptops for use with Pure Data, GEM and PDP/PiDiP.
	It is unfinished, as we haven't worked out how to get Direct
	Rendering for ATI chipsets yet. Questions or comments can be directed
	to derek@x-i.net, or to the AGNULA-users list.
	Good luck!
	 
	We assume you have already downloaded and installed the AGNULA/DeMuDi
	ISO from the agnula.org site. Please check their docs online if you
	have any questions about the installation process!

	GET THE DEMUDI INSTALLER DISK ISO HERE

http://www.agnula.org/download/demudi/demudi_1_2_0_iso

	MORE INFO ON INSTALLING DEMUDI

http://www.agnula.org/download/demudi/1.2.0-FAQ


	INSTALLING PDP, PiDiP, GEM AND SOME OTHER STUFF

	First become root

su

        Then add the following lines to /etc/apt/sources.list [using nano, vim,
	or another text editor]:
	

deb http://snapshot.debian.net/archive/2004/12/06/debian/ testing main contrib non-free

deb http://sindominio.net/~caedes/debian/ unstable main
deb ftp://ftp.nerim.net/debian-marillat/ unstable main

apt-get update

apt-get install pd-pdp pd-pidip pd-gem2pdp pd-unauthorized gem

	Update your .pdrc file with the following lines

-lib pdp:pidip:Gem:zexy



	INSTALLING ACCELERATED GRAPHICS DRIVERS
	
	First set up your /etc/apt/sources.list as described above

	Then, choose your graphics chip type: NVidia or ATI

	***NVIDIA

su
uname -r
apt-get install kernel-headers-[output of "uname -r"]
apt-get install nvidia-kernel-source nvidia-kernel-common module-assistant
module-assistant build nvidia
dpkg -i /usr/src/nvidia-kernel-*
apt-get install nvidia-glx

        Then you must tell your X server to use the NVidia drivers. Use a
	text editor to open this file:

/etc/X11/XF86Config-4

	Look for the section for the graphics driver:

Section "Device"
        ### Available Driver options are:-
# sw_cursor is needed for some ati and radeon cards
        #Option     "sw_cursor"
        #Option     "hw_cursor"
        #Option     "NoAccel"
        #Option     "ShowCache"
        #Option     "ShadowFB"
        #Option     "UseFBDev"
        #Option     "Rotate"
        Identifier  "Card0"
# The following line is auto-generated by KNOPPIX mkxf86config
        Driver      "vesa"
        VendorName  "All"
        BoardName   "All"
#       BusID       "PCI:1:0:0"
EndSection

	Change the "Driver" line to read like this:

	Driver     "NVidia"

        And save!!! It might not hurt to remove the "#"in front of 
	'Option "sw_cursor"' as well. Next time you start X, it will use the
	proprietary X drivers. To do this right away, press
	"Ctrl+Alt+Backspace". You may have to logout of your session with the
	"Exit" option on the Window Manager menu first.


	Test if the GLX is working with these commands:

glxgears
glxinfo

	Later on, you might also want to install some NVidia settings tool:

apt-get install nvidia-settings

	MORE INFO on NVidia drivers:
	
http://lists.agnula.org/pipermail/users/2004-September/003171.html



	***ATI

su
apt-get install wget alien
wget http://www2.ati.com/drivers/linux/fglrx-4.3.0-3.14.6.i386.rpm
alien fglrx-4.3.0-3.14.6.i386.rpm
dpkg -i --force-overwrite fglrx*.deb
fglrxconfig

        Test if the GLX is working with these commands:

glxgears
glxinfo

        NOTE: while this will give you better video drivers than the default
	VESA ones, Direct Rendering is still not activated. This means PDP and
	GEM will run pretty slow! According to Aymeric Mansoux, it is because
	AGP is not enabled in the kernel (unverified). To enable this is
	possible, but beyond the scope of this short instruction text. Have a
	look at these two sites if you want to recompile your kernel:

http://myrddin.org/howto/debian-kernel-recompile.php
http://newbiedoc.sourceforge.net/system/kernel-pkg.html

	MORE INFO on ATI drivers:
http://www.ati.com/products/catalyst/linux.html
http://www.ati.com/support/infobase/linuxhowto-ati.html



	TUNING THE SYSTEM

	Planet CCRMA has some very helpful docs on other audio-related
	systems tuning. It owuld be worth it to have a look here:

http://ccrma.stanford.edu/planetccrma/software/tunesystem.html

	
	QUESTIONS, COMMENTS, CLARIFICATIONS, CORRECTIONS:

derek@x-i.net

	Good luck!
